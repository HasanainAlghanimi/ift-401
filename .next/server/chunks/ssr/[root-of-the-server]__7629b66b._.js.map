{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hasan/ift-401/lib/useDemoSession.ts"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nfunction readSession() {\r\n  try { return JSON.parse(localStorage.getItem(\"demo_session\") || \"null\"); }\r\n  catch { return null; }\r\n}\r\n\r\nexport function useDemoSession() {\r\n  const [session, setSession] = useState<any>(null);\r\n  const [ready, setReady] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const sync = () => {\r\n      setSession(readSession());\r\n      setReady(true);\r\n    };\r\n    sync();\r\n\r\n    const onStorage = (e: StorageEvent) => {\r\n      if (!e.key || e.key === \"demo_session\") { setSession(readSession()); }\r\n    };\r\n    const onAuthChanged = () => setSession(readSession());\r\n    const onVis = () => { if (document.visibilityState === \"visible\") setSession(readSession()); };\r\n\r\n    window.addEventListener(\"storage\", onStorage);\r\n    window.addEventListener(\"demo-auth-changed\", onAuthChanged);\r\n    document.addEventListener(\"visibilitychange\", onVis);\r\n    return () => {\r\n      window.removeEventListener(\"storage\", onStorage);\r\n      window.removeEventListener(\"demo-auth-changed\", onAuthChanged);\r\n      document.removeEventListener(\"visibilitychange\", onVis);\r\n    };\r\n  }, []);\r\n\r\n  return { session, isLoggedIn: !!session, ready };\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AADA;;AAGA,SAAS;IACP,IAAI;QAAE,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,mBAAmB;IAAS,EACzE,OAAM;QAAE,OAAO;IAAM;AACvB;AAEO,SAAS;IACd,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+NAAQ,EAAM;IAC5C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+NAAQ,EAAC;IAEnC,IAAA,gOAAS,EAAC;QACR,MAAM,OAAO;YACX,WAAW;YACX,SAAS;QACX;QACA;QAEA,MAAM,YAAY,CAAC;YACjB,IAAI,CAAC,EAAE,GAAG,IAAI,EAAE,GAAG,KAAK,gBAAgB;gBAAE,WAAW;YAAgB;QACvE;QACA,MAAM,gBAAgB,IAAM,WAAW;QACvC,MAAM,QAAQ;YAAQ,IAAI,SAAS,eAAe,KAAK,WAAW,WAAW;QAAgB;QAE7F,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO,gBAAgB,CAAC,qBAAqB;QAC7C,SAAS,gBAAgB,CAAC,oBAAoB;QAC9C,OAAO;YACL,OAAO,mBAAmB,CAAC,WAAW;YACtC,OAAO,mBAAmB,CAAC,qBAAqB;YAChD,SAAS,mBAAmB,CAAC,oBAAoB;QACnD;IACF,GAAG,EAAE;IAEL,OAAO;QAAE;QAAS,YAAY,CAAC,CAAC;QAAS;IAAM;AACjD","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hasan/ift-401/components/NavBar.tsx"],"sourcesContent":["\"use client\";\r\nimport Link from \"next/link\";\r\nimport React from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useDemoSession } from \"@/lib/useDemoSession\";\r\n\r\nconst links = [\r\n  { href: \"/\", label: \"Home\" },\r\n  { href: \"/stocks\", label: \"Stocks\" },\r\n  { href: \"/trade\", label: \"Trade\", authOnly: true },\r\n  { href: \"/portfolio\", label: \"Portfolio\", authOnly: true },\r\n  { href: \"/history\", label: \"History\", authOnly: true },\r\n  { href: \"/admin\", label: \"Admin\", authOnly: true },\r\n];\r\n\r\nexport default function NavBar() {\r\n  const router = useRouter();\r\n  const { isLoggedIn } = useDemoSession();\r\n  const [mounted, setMounted] = React.useState(false);\r\n  React.useEffect(() => setMounted(true), []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"demo_session\");\r\n    window.dispatchEvent(new Event(\"demo-auth-changed\")); // tell listeners\r\n    router.refresh(); // nudge any client components that care\r\n  };\r\n\r\n  return (\r\n    <header className=\"nav\">\r\n      <div className=\"nav__inner\">\r\n        <Link href=\"/\" className=\"brand\">\r\n          <span className=\"brand__logo\">ðŸŒ•</span>\r\n          <span className=\"brand__name\">Callisto</span>\r\n        </Link>\r\n\r\n        <nav className=\"nav__links\" aria-label=\"Primary\">\r\n          {mounted &&\r\n            links\r\n              .filter((l) => !l.authOnly || isLoggedIn)\r\n              .map((l) => (\r\n                <Link key={l.href} href={l.href} className=\"nav__link\">\r\n                  {l.label}\r\n                </Link>\r\n              ))}\r\n        </nav>\r\n\r\n        <div className=\"nav__actions\">\r\n          {mounted && (isLoggedIn ? (\r\n            <button onClick={handleLogout} className=\"btn btn--ghost\">Log out</button>\r\n          ) : (\r\n            <>\r\n              <Link href=\"/signin\" className=\"btn btn--ghost\">Sign in</Link>\r\n              <Link href=\"/signup\" className=\"btn btn--primary\">Sign up</Link>\r\n            </>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMA,MAAM,QAAQ;IACZ;QAAE,MAAM;QAAK,OAAO;IAAO;IAC3B;QAAE,MAAM;QAAW,OAAO;IAAS;IACnC;QAAE,MAAM;QAAU,OAAO;QAAS,UAAU;IAAK;IACjD;QAAE,MAAM;QAAc,OAAO;QAAa,UAAU;IAAK;IACzD;QAAE,MAAM;QAAY,OAAO;QAAW,UAAU;IAAK;IACrD;QAAE,MAAM;QAAU,OAAO;QAAS,UAAU;IAAK;CAClD;AAEc,SAAS;IACtB,MAAM,SAAS,IAAA,6JAAS;IACxB,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,qJAAc;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,8NAAK,CAAC,QAAQ,CAAC;IAC7C,8NAAK,CAAC,SAAS,CAAC,IAAM,WAAW,OAAO,EAAE;IAE1C,MAAM,eAAe;QACnB,aAAa,UAAU,CAAC;QACxB,OAAO,aAAa,CAAC,IAAI,MAAM,uBAAuB,iBAAiB;QACvE,OAAO,OAAO,IAAI,wCAAwC;IAC5D;IAEA,qBACE,4PAAC;QAAO,WAAU;kBAChB,cAAA,4PAAC;YAAI,WAAU;;8BACb,4PAAC,qLAAI;oBAAC,MAAK;oBAAI,WAAU;;sCACvB,4PAAC;4BAAK,WAAU;sCAAc;;;;;;sCAC9B,4PAAC;4BAAK,WAAU;sCAAc;;;;;;;;;;;;8BAGhC,4PAAC;oBAAI,WAAU;oBAAa,cAAW;8BACpC,WACC,MACG,MAAM,CAAC,CAAC,IAAM,CAAC,EAAE,QAAQ,IAAI,YAC7B,GAAG,CAAC,CAAC,kBACJ,4PAAC,qLAAI;4BAAc,MAAM,EAAE,IAAI;4BAAE,WAAU;sCACxC,EAAE,KAAK;2BADC,EAAE,IAAI;;;;;;;;;;8BAMzB,4PAAC;oBAAI,WAAU;8BACZ,WAAW,CAAC,2BACX,4PAAC;wBAAO,SAAS;wBAAc,WAAU;kCAAiB;;;;;6CAE1D;;0CACE,4PAAC,qLAAI;gCAAC,MAAK;gCAAU,WAAU;0CAAiB;;;;;;0CAChD,4PAAC,qLAAI;gCAAC,MAAK;gCAAU,WAAU;0CAAmB;;;;;;;oCAErD;;;;;;;;;;;;;;;;;AAKX","debugId":null}}]
}