{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hasan/ift-401/lib/supabaseServer.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nexport const supabaseServer = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.SUPABASE_SERVICE_ROLE_KEY!\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,iBAAiB,IAAA,uNAAY,gFAExC,QAAQ,GAAG,CAAC,yBAAyB","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hasan/ift-401/app/api/admin/stocks/%5Bsymbol%5D/route.ts"],"sourcesContent":["// app/api/admin/stocks/[symbol]/route.ts\r\nimport { NextRequest, NextResponse } from 'next/server';\r\nimport { supabaseServer } from '@/lib/supabaseServer';\r\n\r\ntype Params = { params: { symbol: string } };\r\n\r\n// üîÅ Update existing stock\r\nexport async function PUT(req: NextRequest, { params }: Params) {\r\n  try {\r\n    const symbol = params.symbol.toUpperCase();\r\n    const { name, marketCap, tradable } = await req.json();\r\n\r\n    if (!name) {\r\n      return NextResponse.json(\r\n        { error: 'name is required' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const { error } = await supabaseServer\r\n      .from('ticker')\r\n      .update({\r\n        company_name: name,\r\n        market_cap: marketCap ?? 0,\r\n        is_active: !!tradable,\r\n      })\r\n      .eq('symbol', symbol);\r\n\r\n    if (error) {\r\n      console.error('Update ticker error:', error);\r\n      return NextResponse.json(\r\n        { error: error.message },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json({ success: true }, { status: 200 });\r\n  } catch (err) {\r\n    console.error('Admin PUT /api/admin/stocks/[symbol] error:', err);\r\n    return NextResponse.json(\r\n      { error: 'Internal server error' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// ‚ùå Delete existing stock\r\nexport async function DELETE(req: NextRequest, { params }: Params) {\r\n  try {\r\n    const symbol = params.symbol.toUpperCase();\r\n\r\n    const { error } = await supabaseServer\r\n      .from('ticker')\r\n      .delete()\r\n      .eq('symbol', symbol);\r\n\r\n    if (error) {\r\n      console.error('Delete ticker error:', error);\r\n      return NextResponse.json(\r\n        { error: error.message },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json({ success: true }, { status: 200 });\r\n  } catch (err) {\r\n    console.error('Admin DELETE /api/admin/stocks/[symbol] error:', err);\r\n    return NextResponse.json(\r\n      { error: 'Internal server error' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,yCAAyC;;;;;;;AACzC;AACA;;;AAKO,eAAe,IAAI,GAAgB,EAAE,EAAE,MAAM,EAAU;IAC5D,IAAI;QACF,MAAM,SAAS,OAAO,MAAM,CAAC,WAAW;QACxC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;QAEpD,IAAI,CAAC,MAAM;YACT,OAAO,8JAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAmB,GAC5B;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,uJAAc,CACnC,IAAI,CAAC,UACL,MAAM,CAAC;YACN,cAAc;YACd,YAAY,aAAa;YACzB,WAAW,CAAC,CAAC;QACf,GACC,EAAE,CAAC,UAAU;QAEhB,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,wBAAwB;YACtC,OAAO,8JAAY,CAAC,IAAI,CACtB;gBAAE,OAAO,MAAM,OAAO;YAAC,GACvB;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,8JAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK,GAAG;YAAE,QAAQ;QAAI;IAC5D,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,+CAA+C;QAC7D,OAAO,8JAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF;AAGO,eAAe,OAAO,GAAgB,EAAE,EAAE,MAAM,EAAU;IAC/D,IAAI;QACF,MAAM,SAAS,OAAO,MAAM,CAAC,WAAW;QAExC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,uJAAc,CACnC,IAAI,CAAC,UACL,MAAM,GACN,EAAE,CAAC,UAAU;QAEhB,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,wBAAwB;YACtC,OAAO,8JAAY,CAAC,IAAI,CACtB;gBAAE,OAAO,MAAM,OAAO;YAAC,GACvB;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,8JAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK,GAAG;YAAE,QAAQ;QAAI;IAC5D,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,kDAAkD;QAChE,OAAO,8JAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}